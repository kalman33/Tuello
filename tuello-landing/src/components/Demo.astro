---
import { t } from '../i18n/translations';

interface Props {
  lang: 'en' | 'fr';
}

const { lang } = Astro.props;
---

<section id="demo" class="section demo">
  <div class="container">
    <h2 class="section-title">
      {t(lang, 'demo.title.1')} <span class="gradient-text">{t(lang, 'demo.title.2')}</span>
    </h2>
    <p class="section-subtitle">
      {t(lang, 'demo.subtitle')}
    </p>

    <div class="demo-container">
      <div class="demo-window">
        <div class="window-header">
          <div class="window-buttons">
            <span class="btn-close"></span>
            <span class="btn-minimize"></span>
            <span class="btn-maximize"></span>
          </div>
          <span class="window-title">Tuello Demo</span>
        </div>
        <div class="window-content">
          <img
            src="/images/Tuello.gif"
            alt="Tuello Chrome Extension Demo - HTTP Mocking, User Recording, Element Search"
            loading="lazy"
          />
        </div>
      </div>
    </div>

    <div class="demo-features">
      <div class="demo-feature">
        <div class="demo-feature-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
          </svg>
        </div>
        <span>{t(lang, 'demo.feature.http')}</span>
      </div>
      <div class="demo-feature">
        <div class="demo-feature-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.3-4.3"/>
          </svg>
        </div>
        <span>{t(lang, 'demo.feature.search')}</span>
      </div>
      <div class="demo-feature">
        <div class="demo-feature-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
          </svg>
        </div>
        <span>{t(lang, 'demo.feature.json')}</span>
      </div>
    </div>
  </div>
</section>

<style>
  .demo {
    background: var(--color-bg);
  }

  .demo-container {
    max-width: 650px;
    margin: 0 auto 40px;
  }

  .demo-window {
    background: #1e1e2e;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5),
                0 0 0 1px rgba(255, 255, 255, 0.05);
  }

  .window-header {
    background: #2d2d3d;
    padding: 12px 16px;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .window-buttons {
    display: flex;
    gap: 8px;
  }

  .window-buttons span {
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }

  .btn-close {
    background: #ff5f57;
  }

  .btn-minimize {
    background: #febc2e;
  }

  .btn-maximize {
    background: #28c840;
  }

  .window-title {
    color: var(--color-text-muted);
    font-size: 0.85rem;
    flex: 1;
    text-align: center;
  }

  .window-content {
    background: #0d0d14;
  }

  .window-content img {
    display: block;
    width: 100%;
    height: auto;
  }

  .demo-features {
    display: flex;
    justify-content: center;
    gap: 40px;
    flex-wrap: wrap;
  }

  .demo-feature {
    display: flex;
    align-items: center;
    gap: 12px;
    color: var(--color-text-muted);
    font-size: 0.95rem;
  }

  .demo-feature-icon {
    width: 40px;
    height: 40px;
    background: rgba(31, 88, 108, 0.15);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-accent);
  }

  @media (max-width: 768px) {
    .demo-features {
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }
  }
</style>
